{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/contacts.js","components/Notification.js","App.js","index.js"],"names":["Person","name","number","id","handleClick","onClick","Persons","persons","list","map","person","key","PersonForm","handleSubmit","newName","newNumber","setNewName","setNewNumber","onSubmit","value","onChange","event","target","type","Filter","filter","handleFilter","baseURL","axios","get","then","response","data","newObject","post","put","delete","Notification","notification","className","message","App","useState","setPersons","setFilter","setNotification","useEffect","contactServices","initialPersons","filteredPersons","toLowerCase","search","RegExp","preventDefault","newPerson","alreadyThere","find","window","confirm","modifiedPerson","setTimeout","catch","error","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0713b0c9.chunk.js","sourcesContent":["import React from 'react';\n\nconst Person = ( { name, number, id, handleClick} ) => {\n  return (\n    <li>\n      {name} {number}\n      <button onClick={ () => handleClick(id, name)}>DELETE</button>\n    </li>\n  );\n}\n\nexport default Person;","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ( { persons, handleClick } ) => {\n  const list = persons.map( (person) => \n    <Person \n      id={person.id}\n      key={person.id}\n      name={person.name}\n      number={person.number}\n      handleClick={handleClick}\n    />\n  );\n  return (\n    <ul>\n      {list}\n    </ul>\n    \n  );\n}\n\nexport default Persons;","import React from 'react';\n\nconst PersonForm = ( { handleSubmit, newName, newNumber, setNewName, setNewNumber } ) => {\n  return (\n    <form onSubmit={handleSubmit}>\n        <div>\n          name: \n          <input \n            value={newName} \n            onChange={ (event) => setNewName(event.target.value) }\n          />\n          <br />\n          number: \n          <input \n            value={newNumber} \n            onChange={ (event) => setNewNumber(event.target.value)}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  );\n}\n\nexport default PersonForm;","import React from 'react';\n\nconst Filter = ( { filter, handleFilter } ) => {\n  return (\n    <div>\n      filter shown with\n      <input \n        value={filter} \n        onChange={handleFilter}\n      />\n    </div>\n  );\n}\n\nexport default Filter;","import axios from 'axios';\n\nconst baseURL = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseURL);\n  return request.then( (response) => response.data );\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseURL, newObject);\n  return request.then( (response) => response.data);\n}\n\nconst modifyContact = (id, newObject) => {\n  const request = axios.put(`${baseURL}/${id}`, newObject);\n  return request.then( (response) => response.data);\n}\n\nconst deleteContact = (id) => {\n  const request = axios.delete(`${baseURL}/${id}`);\n  return request.then( (response) => response);\n}\n\nexport default { getAll, create, modifyContact, deleteContact };","import React from 'react';\n\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null;\n  }\n  return (\n    <div className={notification.type}>\n      {notification.message}\n    </div>\n  );\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport contactServices from './services/contacts';\nimport Notification from './components/Notification';\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ filter, setFilter ] = useState('');\n  const [ notification, setNotification ] = useState(null);\n\n  useEffect( () => {\n    contactServices\n      .getAll()\n      .then( (initialPersons) => {\n        return setPersons(initialPersons);\n      })\n  }, []);\n\n  const filteredPersons = persons.filter( (person) => person.name.toLowerCase().search(new RegExp(filter.toLowerCase())) === -1 ? false : true ); \n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const alreadyThere = persons.find( (person) => person.name === newName); // returns undefined if not found\n\n    if (alreadyThere) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        contactServices\n          .modifyContact(alreadyThere.id, newPerson)\n          .then( (modifiedPerson) => {\n            setNotification({type: 'update', message: `Updated ${modifiedPerson.name}!`});\n            setTimeout(() => {\n              setNotification(null);\n            }, 3000);\n            setPersons(persons.map( (person) => person.id === alreadyThere.id ? modifiedPerson : person)) \n            setNewName('');\n            setNewNumber('');\n          })\n          .catch( (error) => {\n            setNotification({type: 'error', message: `${newName} is already removed from the server`});\n            setTimeout(() => {\n              setNotification(null);\n            }, 3000);\n            setPersons(persons.filter( (person) => person.id !== alreadyThere.id ));\n            setNewName('');\n            setNewNumber('');\n          })\n      }\n      return;\n    }\n\n    contactServices\n      .create(newPerson)\n      .then( (newPerson) => {\n        setNotification({type: 'add', message: `Added ${newPerson.name}!`});\n        setTimeout(() => {\n          setNotification(null);\n        }, 3000);\n        return setPersons(persons.concat(newPerson));\n      })\n      /* -- Validating errors with data from mongoose -- */\n      .catch( (error) => {\n        console.log(error.response.data);\n        setNotification({type: 'error', message: error.response.data.error});\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n      })\n\n\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value);\n  }\n\n  const handleClick = (id, name) => {\n    if(window.confirm(`Delete ${name}`)) {\n      contactServices\n        .deleteContact(id)\n        .then( (response) => {\n          setNotification({type: 'delete', message: `Deleted ${name}`});\n          setTimeout(() => {\n            setNotification(null);\n          }, 3000);\n          return setPersons(persons.filter( (person) => person.id !== id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <Notification \n        notification={notification}\n      />\n      <h2>Phonebook</h2>\n      <Filter \n        filter={filter}\n        handleFilter={handleFilter}\n      />\n      <h2>Add a new contact</h2>\n      <PersonForm \n        handleSubmit={handleSubmit}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={filteredPersons} \n        handleClick={handleClick}\n      />\n    </div>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}